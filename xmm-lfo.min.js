!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.xmmLfo=e()}}(function(){return function e(t,o,r){function i(s,a){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(n)return n(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){var o=t[s][1][e];return i(o?o:e)},c,c.exports,e,t,o,r)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),n=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),d=r(c),f=e("babel-runtime/helpers/get"),_=r(f),h=e("babel-runtime/helpers/inherits"),m=r(h),p=e("waves-lfo/common/core/BaseLfo"),v=r(p),b=e("xmm-client"),g={model:{type:"any",default:null,nullable:!0,metas:{kind:"static"}},likelihoodWindow:{type:"integer",default:20,min:1,max:1e30},output:{type:"enum",default:"likelihoods",list:["likelihoods","regression"],constant:!0},callback:{type:"any",default:null,nullable:!0,metas:{kind:"dynamic"}}},y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,n.default)(t)).call(this,g,e));return o._decoder=new b.GmmDecoder(o.params.likelihoodWindow),o}return(0,m.default)(t,e),(0,u.default)(t,[{key:"onParamUpdate",value:function(e,o,r){(0,_.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"onParamUpdate",this).call(this,e,o,r),"likelihoodWindow"===e&&(this._decoder.likelihoodWindow=o)}},{key:"processStreamParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.prepareStreamParams(e),this._decoder.model=this.params.get("model"),"likelihoods"===this.params.get("output")?this.streamParams.frameSize=this._decoder.nbClasses:this.streamParams.frameSize=this._decoder.regressionSize,this.propagateStreamParams()}},{key:"processVector",value:function(e){var t=this;this._decoder.filter(e,function(e,o){var r=t.params.get("callback"),i=o.likelihoods,n=t.frame.data,s=t.streamParams.frameSize;if(null==e){for(var a=0;a<s;a++)n[a]=i[a];r&&r(o)}t.propagateFrame()})}},{key:"processFrame",value:function(e){this.prepareFrame(e),this.processFunction(e)}}]),t}(v.default);o.default=y},{"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/helpers/classCallCheck":15,"babel-runtime/helpers/createClass":16,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19,"waves-lfo/common/core/BaseLfo":107,"xmm-client":110}],2:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),n=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),d=r(c),f=e("babel-runtime/helpers/get"),_=r(f),h=e("babel-runtime/helpers/inherits"),m=r(h),p=e("waves-lfo/common/core/BaseLfo"),v=r(p),b=e("xmm-client"),g={model:{type:"any",default:null,nullable:!0,metas:{kind:"static"}},likelihoodWindow:{type:"integer",default:20,min:1,max:1e30},output:{type:"enum",default:"likelihoods",list:["likelihoods","regression"],constant:!0},callback:{type:"any",default:null,nullable:!0,metas:{kind:"dynamic"}}},y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,n.default)(t)).call(this,g,e));return o._decoder=new b.HhmmDecoder(o.params.likelihoodWindow),o}return(0,m.default)(t,e),(0,u.default)(t,[{key:"reset",value:function(){this._decoder.reset()}},{key:"onParamUpdate",value:function(e,o,r){(0,_.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"onParamUpdate",this).call(this,e,o,r),"likelihoodWindow"===e&&this._decoder.setLikelihoodWindow(o)}},{key:"processStreamParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.prepareStreamParams(e),this._decoder.model=this.params.get("model"),"likelihoods"===this.params.get("output")?this.streamParams.frameSize=this._decoder.nbClasses:this.streamParams.frameSize=this._decoder.regressionSize,this.propagateStreamParams()}},{key:"processVector",value:function(e){var t=this;this._decoder.filter(e,function(e,o){var r=t.params.get("callback"),i=o.likelihoods,n=t.frame.data,s=t.streamParams.frameSize;if(null==e){for(var a=0;a<s;a++)n[a]=i[a];r&&r(o)}t.propagateFrame()})}},{key:"processFrame",value:function(e){this.prepareFrame(e),this.processFunction(e)}}]),t}(v.default);o.default=y},{"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/helpers/classCallCheck":15,"babel-runtime/helpers/createClass":16,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19,"waves-lfo/common/core/BaseLfo":107,"xmm-client":110}],3:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),n=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),d=r(c),f=e("babel-runtime/helpers/get"),_=r(f),h=e("babel-runtime/helpers/inherits"),m=r(h),p=e("waves-lfo/common/core/BaseLfo"),v=r(p),b=e("xmm-client"),g={bimodal:{type:"boolean",default:!1,constant:!0},dimensionInput:{type:"integer",default:0,constant:!0},columnNames:{type:"any",default:[""],constant:!0}},y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,n.default)(t)).call(this,g,e));return o._phraseMaker=new b.PhraseMaker({bimodal:o.params.get("bimodal"),dimensionInput:o.params.get("dimensionInput"),columnNames:o.params.get("columnNames")}),o._isStarted=!1,o}return(0,m.default)(t,e),(0,u.default)(t,[{key:"getPhraseLabel",value:function(){return this._phraseMaker.getConfig().label}},{key:"setPhraseLabel",value:function(e){this._phraseMaker.setConfig({label:e})}},{key:"getRecordedPhrase",value:function(){return this._phraseMaker.getPhrase()}},{key:"start",value:function(){this._phraseMaker.reset(),this._isStarted=!0}},{key:"stop",value:function(){this._isStarted=!1}},{key:"onParamUpdate",value:function(e,o,r){(0,_.default)(t.prototype.__proto__||(0,n.default)(t.prototype),"onParamUpdate",this).call(this,e,o,r);var i={};i[e]=o,this._phraseMaker.setConfig(i)}},{key:"processStreamParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.prepareStreamParams(e),this._phraseMaker.setConfig({dimension:this.streamParams.frameSize}),this._phraseMaker.reset(),this.propagateStreamParams()}},{key:"processVector",value:function(e){if(this._isStarted){for(var t=this.streamParams.frameSize,o=e.data,r=this.frame.data,i=0;i<t;i++)r[i]=o[i];this._phraseMaker.addObservation(o)}}}]),t}(v.default);o.default=y},{"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/helpers/classCallCheck":15,"babel-runtime/helpers/createClass":16,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/possibleConstructorReturn":19,"waves-lfo/common/core/BaseLfo":107,"xmm-client":110}],4:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var i=e("./GmmDecoderLfo");Object.defineProperty(o,"GmmDecoderLfo",{enumerable:!0,get:function(){return r(i).default}});var n=e("./HhmmDecoderLfo");Object.defineProperty(o,"HhmmDecoderLfo",{enumerable:!0,get:function(){return r(n).default}});var s=e("./PhraseRecorderLfo");Object.defineProperty(o,"PhraseRecorderLfo",{enumerable:!0,get:function(){return r(s).default}})},{"./GmmDecoderLfo":1,"./HhmmDecoderLfo":2,"./PhraseRecorderLfo":3}],5:[function(e,t,o){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":21}],6:[function(e,t,o){t.exports={default:e("core-js/library/fn/number/is-integer"),__esModule:!0}},{"core-js/library/fn/number/is-integer":22}],7:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":23}],8:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":24}],9:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":25}],10:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":26}],11:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":27}],12:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":28}],13:[function(e,t,o){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":29}],14:[function(e,t,o){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":30}],15:[function(e,t,o){"use strict";o.__esModule=!0,o.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],16:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}o.__esModule=!0;var i=e("../core-js/object/define-property"),n=r(i);o.default=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,n.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}()},{"../core-js/object/define-property":9}],17:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}o.__esModule=!0;var i=e("../core-js/object/get-prototype-of"),n=r(i),s=e("../core-js/object/get-own-property-descriptor"),a=r(s);o.default=function e(t,o,r){null===t&&(t=Function.prototype);var i=(0,a.default)(t,o);if(void 0===i){var s=(0,n.default)(t);return null===s?void 0:e(s,o,r)}if("value"in i)return i.value;var l=i.get;if(void 0!==l)return l.call(r)}},{"../core-js/object/get-own-property-descriptor":10,"../core-js/object/get-prototype-of":11}],18:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}o.__esModule=!0;var i=e("../core-js/object/set-prototype-of"),n=r(i),s=e("../core-js/object/create"),a=r(s),l=e("../helpers/typeof"),u=r(l);o.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,u.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":8,"../core-js/object/set-prototype-of":12,"../helpers/typeof":20}],19:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}o.__esModule=!0;var i=e("../helpers/typeof"),n=r(i);o.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,n.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":20}],20:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}o.__esModule=!0;var i=e("../core-js/symbol/iterator"),n=r(i),s=e("../core-js/symbol"),a=r(s),l="function"==typeof a.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":typeof e};o.default="function"==typeof a.default&&"symbol"===l(n.default)?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default?"symbol":"undefined"==typeof e?"undefined":l(e)}},{"../core-js/symbol":13,"../core-js/symbol/iterator":14}],21:[function(e,t,o){var r=e("../../modules/_core"),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(e){return i.stringify.apply(i,arguments)}},{"../../modules/_core":36}],22:[function(e,t,o){e("../../modules/es6.number.is-integer"),t.exports=e("../../modules/_core").Number.isInteger},{"../../modules/_core":36,"../../modules/es6.number.is-integer":92}],23:[function(e,t,o){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":36,"../../modules/es6.object.assign":93}],24:[function(e,t,o){e("../../modules/es6.object.create");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.create(e,t)}},{"../../modules/_core":36,"../../modules/es6.object.create":94}],25:[function(e,t,o){e("../../modules/es6.object.define-property");var r=e("../../modules/_core").Object;t.exports=function(e,t,o){return r.defineProperty(e,t,o)}},{"../../modules/_core":36,"../../modules/es6.object.define-property":95}],26:[function(e,t,o){e("../../modules/es6.object.get-own-property-descriptor");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},{"../../modules/_core":36,"../../modules/es6.object.get-own-property-descriptor":96}],27:[function(e,t,o){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":36,"../../modules/es6.object.get-prototype-of":97}],28:[function(e,t,o){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":36,"../../modules/es6.object.set-prototype-of":98}],29:[function(e,t,o){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":36,"../../modules/es6.object.to-string":99,"../../modules/es6.symbol":101,"../../modules/es7.symbol.async-iterator":102,"../../modules/es7.symbol.observable":103}],30:[function(e,t,o){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":89,"../../modules/es6.string.iterator":100,"../../modules/web.dom.iterable":104}],31:[function(e,t,o){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],32:[function(e,t,o){t.exports=function(){}},{}],33:[function(e,t,o){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":53}],34:[function(e,t,o){var r=e("./_to-iobject"),i=e("./_to-length"),n=e("./_to-index");t.exports=function(e){return function(t,o,s){var a,l=r(t),u=i(l.length),c=n(s,u);if(e&&o!=o){for(;u>c;)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===o)return e||c||0;return!e&&-1}}},{"./_to-index":81,"./_to-iobject":83,"./_to-length":84}],35:[function(e,t,o){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],36:[function(e,t,o){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},{}],37:[function(e,t,o){var r=e("./_a-function");t.exports=function(e,t,o){if(r(e),void 0===t)return e;switch(o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,r){return e.call(t,o,r)};case 3:return function(o,r,i){return e.call(t,o,r,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":31}],38:[function(e,t,o){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],39:[function(e,t,o){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":44}],40:[function(e,t,o){var r=e("./_is-object"),i=e("./_global").document,n=r(i)&&r(i.createElement);t.exports=function(e){return n?i.createElement(e):{}}},{"./_global":45,"./_is-object":53}],41:[function(e,t,o){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],42:[function(e,t,o){var r=e("./_object-keys"),i=e("./_object-gops"),n=e("./_object-pie");t.exports=function(e){var t=r(e),o=i.f;if(o)for(var s,a=o(e),l=n.f,u=0;a.length>u;)l.call(e,s=a[u++])&&t.push(s);return t}},{"./_object-gops":68,"./_object-keys":71,"./_object-pie":72}],43:[function(e,t,o){var r=e("./_global"),i=e("./_core"),n=e("./_ctx"),s=e("./_hide"),a="prototype",l=function(e,t,o){var u,c,d,f=e&l.F,_=e&l.G,h=e&l.S,m=e&l.P,p=e&l.B,v=e&l.W,b=_?i:i[t]||(i[t]={}),g=b[a],y=_?r:h?r[t]:(r[t]||{})[a];_&&(o=t);for(u in o)c=!f&&y&&void 0!==y[u],c&&u in b||(d=c?y[u]:o[u],b[u]=_&&"function"!=typeof y[u]?o[u]:p&&c?n(d,r):v&&y[u]==d?function(e){var t=function(t,o,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,o)}return new e(t,o,r)}return e.apply(this,arguments)};return t[a]=e[a],t}(d):m&&"function"==typeof d?n(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[u]=d,e&l.R&&g&&!g[u]&&s(g,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":36,"./_ctx":37,"./_global":45,"./_hide":47}],44:[function(e,t,o){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],45:[function(e,t,o){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],46:[function(e,t,o){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],47:[function(e,t,o){var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,o){return r.f(e,t,i(1,o))}:function(e,t,o){return e[t]=o,e}},{"./_descriptors":39,"./_object-dp":63,"./_property-desc":74}],48:[function(e,t,o){t.exports=e("./_global").document&&document.documentElement},{"./_global":45}],49:[function(e,t,o){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":39,"./_dom-create":40,"./_fails":44}],50:[function(e,t,o){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":35}],51:[function(e,t,o){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":35}],52:[function(e,t,o){var r=e("./_is-object"),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{"./_is-object":53}],53:[function(e,t,o){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],54:[function(e,t,o){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),n=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,o){e.prototype=r(s,{next:i(1,o)}),n(e,t+" Iterator")}},{"./_hide":47,"./_object-create":62,"./_property-desc":74,"./_set-to-string-tag":77,"./_wks":90}],55:[function(e,t,o){"use strict";var r=e("./_library"),i=e("./_export"),n=e("./_redefine"),s=e("./_hide"),a=e("./_has"),l=e("./_iterators"),u=e("./_iter-create"),c=e("./_set-to-string-tag"),d=e("./_object-gpo"),f=e("./_wks")("iterator"),_=!([].keys&&"next"in[].keys()),h="@@iterator",m="keys",p="values",v=function(){return this};t.exports=function(e,t,o,b,g,y,k){u(o,t,b);var j,w,x,O=function(e){if(!_&&e in R)return R[e];switch(e){case m:return function(){return new o(this,e)};case p:return function(){return new o(this,e)}}return function(){return new o(this,e)}},P=t+" Iterator",M=g==p,C=!1,R=e.prototype,S=R[f]||R[h]||g&&R[g],F=S||O(g),A=g?M?O("entries"):F:void 0,E="Array"==t?R.entries||S:S;if(E&&(x=d(E.call(new e)),x!==Object.prototype&&(c(x,P,!0),r||a(x,f)||s(x,f,v))),M&&S&&S.name!==p&&(C=!0,F=function(){return S.call(this)}),r&&!k||!_&&!C&&R[f]||s(R,f,F),l[t]=F,l[P]=v,g)if(j={values:M?F:O(p),keys:y?F:O(m),entries:A},k)for(w in j)w in R||n(R,w,j[w]);else i(i.P+i.F*(_||C),t,j);return j}},{"./_export":43,"./_has":46,"./_hide":47,"./_iter-create":54,"./_iterators":57,"./_library":59,"./_object-gpo":69,"./_redefine":75,"./_set-to-string-tag":77,"./_wks":90}],56:[function(e,t,o){t.exports=function(e,t){return{value:t,done:!!e}}},{}],57:[function(e,t,o){t.exports={}},{}],58:[function(e,t,o){var r=e("./_object-keys"),i=e("./_to-iobject");t.exports=function(e,t){for(var o,n=i(e),s=r(n),a=s.length,l=0;a>l;)if(n[o=s[l++]]===t)return o}},{"./_object-keys":71,"./_to-iobject":83}],59:[function(e,t,o){t.exports=!0},{}],60:[function(e,t,o){var r=e("./_uid")("meta"),i=e("./_is-object"),n=e("./_has"),s=e("./_object-dp").f,a=0,l=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return l(Object.preventExtensions({}))}),c=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},f=function(e,t){if(!n(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},_=function(e){return u&&h.NEED&&l(e)&&!n(e,r)&&c(e),e},h=t.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:_}},{"./_fails":44,"./_has":46,"./_is-object":53,"./_object-dp":63,"./_uid":87}],61:[function(e,t,o){"use strict";var r=e("./_object-keys"),i=e("./_object-gops"),n=e("./_object-pie"),s=e("./_to-object"),a=e("./_iobject"),l=Object.assign;t.exports=!l||e("./_fails")(function(){var e={},t={},o=Symbol(),r="abcdefghijklmnopqrst";return e[o]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[o]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var o=s(e),l=arguments.length,u=1,c=i.f,d=n.f;l>u;)for(var f,_=a(arguments[u++]),h=c?r(_).concat(c(_)):r(_),m=h.length,p=0;m>p;)d.call(_,f=h[p++])&&(o[f]=_[f]);return o}:l},{"./_fails":44,"./_iobject":50,"./_object-gops":68,"./_object-keys":71,"./_object-pie":72,"./_to-object":85}],62:[function(e,t,o){var r=e("./_an-object"),i=e("./_object-dps"),n=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),a=function(){},l="prototype",u=function(){var t,o=e("./_dom-create")("iframe"),r=n.length,i="<",s=">";for(o.style.display="none",e("./_html").appendChild(o),o.src="javascript:",t=o.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),u=t.F;r--;)delete u[l][n[r]];return u()};t.exports=Object.create||function(e,t){var o;return null!==e?(a[l]=r(e),o=new a,a[l]=null,o[s]=e):o=u(),void 0===t?o:i(o,t)}},{"./_an-object":33,"./_dom-create":40,"./_enum-bug-keys":41,"./_html":48,"./_object-dps":64,"./_shared-key":78}],63:[function(e,t,o){var r=e("./_an-object"),i=e("./_ie8-dom-define"),n=e("./_to-primitive"),s=Object.defineProperty;o.f=e("./_descriptors")?Object.defineProperty:function(e,t,o){if(r(e),t=n(t,!0),r(o),i)try{return s(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},{"./_an-object":33,"./_descriptors":39,"./_ie8-dom-define":49,"./_to-primitive":86}],64:[function(e,t,o){var r=e("./_object-dp"),i=e("./_an-object"),n=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){i(e);for(var o,s=n(t),a=s.length,l=0;a>l;)r.f(e,o=s[l++],t[o]);return e}},{"./_an-object":33,"./_descriptors":39,"./_object-dp":63,"./_object-keys":71}],65:[function(e,t,o){var r=e("./_object-pie"),i=e("./_property-desc"),n=e("./_to-iobject"),s=e("./_to-primitive"),a=e("./_has"),l=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;o.f=e("./_descriptors")?u:function(e,t){if(e=n(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},{"./_descriptors":39,"./_has":46,"./_ie8-dom-define":49,"./_object-pie":72,"./_property-desc":74,"./_to-iobject":83,"./_to-primitive":86}],66:[function(e,t,o){var r=e("./_to-iobject"),i=e("./_object-gopn").f,n={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(e){return s.slice()}};t.exports.f=function(e){return s&&"[object Window]"==n.call(e)?a(e):i(r(e))}},{"./_object-gopn":67,"./_to-iobject":83}],67:[function(e,t,o){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");o.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{"./_enum-bug-keys":41,"./_object-keys-internal":70}],68:[function(e,t,o){o.f=Object.getOwnPropertySymbols},{}],69:[function(e,t,o){var r=e("./_has"),i=e("./_to-object"),n=e("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,n)?e[n]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"./_has":46,"./_shared-key":78,"./_to-object":85}],70:[function(e,t,o){var r=e("./_has"),i=e("./_to-iobject"),n=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var o,a=i(e),l=0,u=[];for(o in a)o!=s&&r(a,o)&&u.push(o);for(;t.length>l;)r(a,o=t[l++])&&(~n(u,o)||u.push(o));return u}},{"./_array-includes":34,"./_has":46,"./_shared-key":78,"./_to-iobject":83}],71:[function(e,t,o){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_enum-bug-keys":41,"./_object-keys-internal":70}],72:[function(e,t,o){o.f={}.propertyIsEnumerable},{}],73:[function(e,t,o){var r=e("./_export"),i=e("./_core"),n=e("./_fails");t.exports=function(e,t){var o=(i.Object||{})[e]||Object[e],s={};s[e]=t(o),r(r.S+r.F*n(function(){o(1)}),"Object",s)}},{"./_core":36,"./_export":43,"./_fails":44}],74:[function(e,t,o){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],75:[function(e,t,o){t.exports=e("./_hide")},{"./_hide":47}],76:[function(e,t,o){var r=e("./_is-object"),i=e("./_an-object"),n=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,o,r){try{r=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),r(t,[]),o=!(t instanceof Array)}catch(e){o=!0}return function(e,t){return n(e,t),o?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:n}},{"./_an-object":33,"./_ctx":37,"./_is-object":53,"./_object-gopd":65}],77:[function(e,t,o){var r=e("./_object-dp").f,i=e("./_has"),n=e("./_wks")("toStringTag");t.exports=function(e,t,o){e&&!i(e=o?e:e.prototype,n)&&r(e,n,{configurable:!0,value:t})}},{"./_has":46,"./_object-dp":63,"./_wks":90}],78:[function(e,t,o){var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":79,"./_uid":87}],79:[function(e,t,o){var r=e("./_global"),i="__core-js_shared__",n=r[i]||(r[i]={});t.exports=function(e){return n[e]||(n[e]={})}},{"./_global":45}],80:[function(e,t,o){var r=e("./_to-integer"),i=e("./_defined");t.exports=function(e){return function(t,o){var n,s,a=String(i(t)),l=r(o),u=a.length;return l<0||l>=u?e?"":void 0:(n=a.charCodeAt(l),n<55296||n>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):n:e?a.slice(l,l+2):(n-55296<<10)+(s-56320)+65536)}}},{"./_defined":38,"./_to-integer":82}],81:[function(e,t,o){var r=e("./_to-integer"),i=Math.max,n=Math.min;t.exports=function(e,t){return e=r(e),e<0?i(e+t,0):n(e,t)}},{"./_to-integer":82}],82:[function(e,t,o){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],83:[function(e,t,o){var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_defined":38,"./_iobject":50}],84:[function(e,t,o){var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./_to-integer":82}],85:[function(e,t,o){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":38}],86:[function(e,t,o){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var o,i;if(t&&"function"==typeof(o=e.toString)&&!r(i=o.call(e)))return i;if("function"==typeof(o=e.valueOf)&&!r(i=o.call(e)))return i;if(!t&&"function"==typeof(o=e.toString)&&!r(i=o.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":53}],87:[function(e,t,o){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],88:[function(e,t,o){var r=e("./_global"),i=e("./_core"),n=e("./_library"),s=e("./_wks-ext"),a=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=n?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},{"./_core":36,"./_global":45,"./_library":59,"./_object-dp":63,"./_wks-ext":89}],89:[function(e,t,o){o.f=e("./_wks")},{"./_wks":90}],90:[function(e,t,o){var r=e("./_shared")("wks"),i=e("./_uid"),n=e("./_global").Symbol,s="function"==typeof n,a=t.exports=function(e){return r[e]||(r[e]=s&&n[e]||(s?n:i)("Symbol."+e))};a.store=r},{"./_global":45,"./_shared":79,"./_uid":87}],91:[function(e,t,o){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),n=e("./_iterators"),s=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,o=this._i++;return!e||o>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,o):"values"==t?i(0,e[o]):i(0,[o,e[o]])},"values"),n.Arguments=n.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":32,"./_iter-define":55,"./_iter-step":56,"./_iterators":57,"./_to-iobject":83}],92:[function(e,t,o){var r=e("./_export");r(r.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":43,"./_is-integer":52}],93:[function(e,t,o){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":43,"./_object-assign":61}],94:[function(e,t,o){var r=e("./_export");r(r.S,"Object",{create:e("./_object-create")})},{"./_export":43,"./_object-create":62}],95:[function(e,t,o){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":39,"./_export":43,"./_object-dp":63}],96:[function(e,t,o){var r=e("./_to-iobject"),i=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},{"./_object-gopd":65,"./_object-sap":73,"./_to-iobject":83}],97:[function(e,t,o){var r=e("./_to-object"),i=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return i(r(e))}})},{"./_object-gpo":69,"./_object-sap":73,"./_to-object":85}],98:[function(e,t,o){var r=e("./_export");r(r.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":43,"./_set-proto":76}],99:[function(e,t,o){},{}],100:[function(e,t,o){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=r(t,o),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":55,"./_string-at":80}],101:[function(e,t,o){"use strict";var r=e("./_global"),i=e("./_has"),n=e("./_descriptors"),s=e("./_export"),a=e("./_redefine"),l=e("./_meta").KEY,u=e("./_fails"),c=e("./_shared"),d=e("./_set-to-string-tag"),f=e("./_uid"),_=e("./_wks"),h=e("./_wks-ext"),m=e("./_wks-define"),p=e("./_keyof"),v=e("./_enum-keys"),b=e("./_is-array"),g=e("./_an-object"),y=e("./_to-iobject"),k=e("./_to-primitive"),j=e("./_property-desc"),w=e("./_object-create"),x=e("./_object-gopn-ext"),O=e("./_object-gopd"),P=e("./_object-dp"),M=e("./_object-keys"),C=O.f,R=P.f,S=x.f,F=r.Symbol,A=r.JSON,E=A&&A.stringify,z="prototype",L=_("_hidden"),I=_("toPrimitive"),N={}.propertyIsEnumerable,W=c("symbol-registry"),T=c("symbols"),H=c("op-symbols"),G=Object[z],U="function"==typeof F,D=r.QObject,V=!D||!D[z]||!D[z].findChild,B=n&&u(function(){
return 7!=w(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,o){var r=C(G,t);r&&delete G[t],R(e,t,o),r&&e!==G&&R(G,t,r)}:R,J=function(e){var t=T[e]=w(F[z]);return t._k=e,t},q=U&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},K=function(e,t,o){return e===G&&K(H,t,o),g(e),t=k(t,!0),g(o),i(T,t)?(o.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),o=w(o,{enumerable:j(0,!1)})):(i(e,L)||R(e,L,j(1,{})),e[L][t]=!0),B(e,t,o)):R(e,t,o)},Y=function(e,t){g(e);for(var o,r=v(t=y(t)),i=0,n=r.length;n>i;)K(e,o=r[i++],t[o]);return e},Q=function(e,t){return void 0===t?w(e):Y(w(e),t)},X=function(e){var t=N.call(this,e=k(e,!0));return!(this===G&&i(T,e)&&!i(H,e))&&(!(t||!i(this,e)||!i(T,e)||i(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=y(e),t=k(t,!0),e!==G||!i(T,t)||i(H,t)){var o=C(e,t);return!o||!i(T,t)||i(e,L)&&e[L][t]||(o.enumerable=!0),o}},$=function(e){for(var t,o=S(y(e)),r=[],n=0;o.length>n;)i(T,t=o[n++])||t==L||t==l||r.push(t);return r},ee=function(e){for(var t,o=e===G,r=S(o?H:y(e)),n=[],s=0;r.length>s;)!i(T,t=r[s++])||o&&!i(G,t)||n.push(T[t]);return n};U||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(o){this===G&&t.call(H,o),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),B(this,e,j(1,o))};return n&&V&&B(G,e,{configurable:!0,set:t}),J(e)},a(F[z],"toString",function(){return this._k}),O.f=Z,P.f=K,e("./_object-gopn").f=x.f=$,e("./_object-pie").f=X,e("./_object-gops").f=ee,n&&!e("./_library")&&a(G,"propertyIsEnumerable",X,!0),h.f=function(e){return J(_(e))}),s(s.G+s.W+s.F*!U,{Symbol:F});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),oe=0;te.length>oe;)_(te[oe++]);for(var te=M(_.store),oe=0;te.length>oe;)m(te[oe++]);s(s.S+s.F*!U,"Symbol",{for:function(e){return i(W,e+="")?W[e]:W[e]=F(e)},keyFor:function(e){if(q(e))return p(W,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!U,"Object",{create:Q,defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),A&&s(s.S+s.F*(!U||u(function(){var e=F();return"[null]"!=E([e])||"{}"!=E({a:e})||"{}"!=E(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!q(e)){for(var t,o,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(o=t),!o&&b(t)||(t=function(e,t){if(o&&(t=o.call(this,e,t)),!q(t))return t}),r[1]=t,E.apply(A,r)}}}),F[z][I]||e("./_hide")(F[z],I,F[z].valueOf),d(F,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},{"./_an-object":33,"./_descriptors":39,"./_enum-keys":42,"./_export":43,"./_fails":44,"./_global":45,"./_has":46,"./_hide":47,"./_is-array":51,"./_keyof":58,"./_library":59,"./_meta":60,"./_object-create":62,"./_object-dp":63,"./_object-gopd":65,"./_object-gopn":67,"./_object-gopn-ext":66,"./_object-gops":68,"./_object-keys":71,"./_object-pie":72,"./_property-desc":74,"./_redefine":75,"./_set-to-string-tag":77,"./_shared":79,"./_to-iobject":83,"./_to-primitive":86,"./_uid":87,"./_wks":90,"./_wks-define":88,"./_wks-ext":89}],102:[function(e,t,o){e("./_wks-define")("asyncIterator")},{"./_wks-define":88}],103:[function(e,t,o){e("./_wks-define")("observable")},{"./_wks-define":88}],104:[function(e,t,o){e("./es6.array.iterator");for(var r=e("./_global"),i=e("./_hide"),n=e("./_iterators"),s=e("./_wks")("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var u=a[l],c=r[u],d=c&&c.prototype;d&&!d[s]&&i(d,s,u),n[u]=n.Array}},{"./_global":45,"./_hide":47,"./_iterators":57,"./_wks":90,"./es6.array.iterator":91}],105:[function(e,t,o){"use strict";function r(e){var t=arguments.length<=1||void 0===arguments[1]?-(1/0):arguments[1],o=arguments.length<=2||void 0===arguments[2]?+(1/0):arguments[2];return n(t,i(o,e))}Object.defineProperty(o,"__esModule",{value:!0});var i=Math.min,n=Math.max;o.default={boolean:{definitionTemplate:["default"],typeCheckFunction:function(e,t,o){if("boolean"!=typeof e)throw new Error('Invalid value for boolean param "'+o+'": '+e);return e}},integer:{definitionTemplate:["default"],typeCheckFunction:function(e,t,o){if("number"!=typeof e||Math.floor(e)!==e)throw new Error('Invalid value for integer param "'+o+'": '+e);return r(e,t.min,t.max)}},float:{definitionTemplate:["default"],typeCheckFunction:function(e,t,o){if("number"!=typeof e||e!==e)throw new Error('Invalid value for float param "'+o+'": '+e);return r(e,t.min,t.max)}},string:{definitionTemplate:["default"],typeCheckFunction:function(e,t,o){if("string"!=typeof e)throw new Error('Invalid value for string param "'+o+'": '+e);return e}},enum:{definitionTemplate:["default","list"],typeCheckFunction:function(e,t,o){if(t.list.indexOf(e)===-1)throw new Error('Invalid value for enum param "'+o+'": '+e);return e}},any:{definitionTemplate:["default"],typeCheckFunction:function(e,t,o){return e}}}},{}],106:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o={};for(var r in t)if(e.hasOwnProperty(r)===!1)throw new Error('Unknown param "'+r+'"');for(var i in e){if(o.hasOwnProperty(i)===!0)throw new Error('Parameter "'+i+'" already defined');var n=e[i];if(!l.default[n.type])throw new Error('Unknown param type "'+n.type+'"');var s=l.default[n.type],a=s.definitionTemplate,d=s.typeCheckFunction,f=void 0;if(f=t.hasOwnProperty(i)===!0?t[i]:n.default,n.initValue=f,!d||!a)throw new Error('Invalid param type definition "'+n.type+'"');o[i]=new u(i,a,d,n,f)}return new c(o,e)}Object.defineProperty(o,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),a=e("./paramTemplates"),l=r(a),u=function(){function e(t,o,r,n,s){i(this,e),o.forEach(function(e){if(n.hasOwnProperty(e)===!1)throw new Error('Invalid definition for param "'+t+'", '+e+" is not defined")}),this.name=t,this.type=n.type,this.definition=n,this.definition.nullable===!0&&null===s?this.value=null:this.value=r(s,n,t),this._typeCheckFunction=r}return s(e,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){if(this.definition.constant===!0)throw new Error('Invalid assignement to constant param "'+this.name+'"');return this.definition.nullable===!0&&null===e||(e=this._typeCheckFunction(e,this.definition,this.name)),this.value!==e&&(this.value=e,!0)}}]),e}(),c=function(){function e(t,o){i(this,e),this._params=t,this._definitions=o,this._globalListeners=new Set,this._paramsListeners={};for(var r in t)this._paramsListeners[r]=new Set}return s(e,[{key:"getDefinitions",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null!==e?this._definitions[e]:this._definitions}},{key:"get",value:function(e){if(!this._params[e])throw new Error('Cannot read property value of undefined parameter "'+e+'"');return this._params[e].value}},{key:"set",value:function(e,t){var o=this._params[e],r=o.setValue(t);if(t=o.getValue(),r){var i=o.definition.metas,n=!0,s=!1,a=void 0;try{for(var l,u=this._globalListeners[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value;c(e,t,i)}}catch(e){s=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(s)throw a}}var d=!0,f=!1,_=void 0;try{for(var h,m=this._paramsListeners[e][Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var p=h.value;p(t,i)}}catch(e){f=!0,_=e}finally{try{!d&&m.return&&m.return()}finally{if(f)throw _}}}return t}},{key:"has",value:function(e){return!!this._params[e]}},{key:"reset",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];null!==t?this.set(t,param.definition.initValue):Object.keys(this._params).forEach(function(t){return e.reset(t)})}},{key:"addListener",value:function(e){this._globalListeners.add(e)}},{key:"removeListener",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];null===e?this._globalListeners.clear():this._globalListeners.delete(e)}},{key:"addParamListener",value:function(e,t){this._paramsListeners[e].add(t)}},{key:"removeParamListener",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];null===t?this._paramsListeners[e].clear():this._paramsListeners[e].delete(t)}}]),e}();n.defineType=function(e,t){l.default[e]=t},o.default=n},{"./paramTemplates":105}],107:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/assign"),n=r(i),s=e("babel-runtime/helpers/classCallCheck"),a=r(s),l=e("babel-runtime/helpers/createClass"),u=r(l),c=e("parameters"),d=r(c),f=0,_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.default)(this,e),this.cid=f++,this.params=(0,d.default)(t,o),this.params.addListener(this.onParamUpdate.bind(this)),this.streamParams={frameType:null,frameSize:1,frameRate:0,description:null,sourceSampleRate:0,sourceSampleCount:null},this.frame={time:0,data:null,metadata:{}},this.nextOps=[],this.prevOp=null,this._reinit=!1}return(0,u.default)(e,[{key:"getParamsDescription",value:function(){return this.params.getDefinitions()}},{key:"resetParams",value:function(){this.params.reset()}},{key:"onParamUpdate",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"static"===o.kind&&(this._reinit=!0)}},{key:"connect",value:function(t){if(!(t instanceof e))throw new Error("Invalid connection: child node is not an instance of `BaseLfo`");if(null===this.streamParams||null===t.streamParams)throw new Error("Invalid connection: cannot connect a dead node");this.nextOps.push(t),t.prevOp=this,null!==this.streamParams.frameType&&t.processStreamParams(this.streamParams)}},{key:"disconnect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t)this.nextOps.forEach(function(t){return e.disconnect(t)});else{var o=this.nextOps.indexOf(this);this.nextOps.splice(o,1),t.prevOp=null}}},{key:"destroy",value:function(){for(var e=this.nextOps.length;e--;)this.nextOps[e].destroy();this.prevOp&&this.prevOp.disconnect(this),this.streamParams=null}},{key:"initStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.processStreamParams(e),this.resetStream()}},{key:"resetStream",value:function(){for(var e=0,t=this.nextOps.length;e<t;e++)this.nextOps[e].resetStream();"scalar"!==this.streamParams.frameType&&null!==this.frame.data&&this.frame.data.fill(0)}},{key:"finalizeStream",value:function(e){for(var t=0,o=this.nextOps.length;t<o;t++)this.nextOps[t].finalizeStream(e)}},{key:"processStreamParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.prepareStreamParams(e),this.propagateStreamParams()}},{key:"prepareStreamParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this.streamParams,e);var t=e.frameType;switch(t){case"scalar":if(this.processScalar)this.processFunction=this.processScalar;else if(this.processVector)this.processFunction=this.processVector;else{if(!this.processSignal)throw new Error(this.constructor.name+' - no "process" function found');this.processFunction=this.processSignal}break;case"vector":if(!("processVector"in this))throw new Error(this.constructor.name+' - "processVector" is not defined');this.processFunction=this.processVector;break;case"signal":if(!("processSignal"in this))throw new Error(this.constructor.name+' - "processSignal" is not defined');this.processFunction=this.processSignal}}},{key:"propagateStreamParams",value:function(){this.frame.data=new Float32Array(this.streamParams.frameSize);for(var e=0,t=this.nextOps.length;e<t;e++)this.nextOps[e].processStreamParams(this.streamParams)}},{key:"processFrame",value:function(e){this.prepareFrame(),this.frame.time=e.time,this.frame.metadata=e.metadata,this.processFunction(e),this.propagateFrame()}},{key:"processFunction",value:function(e){this.frame=e}},{key:"prepareFrame",value:function(){if(this._reinit===!0){var e=null!==this.prevOp?this.prevOp.streamParams:{};this.initStream(e),this._reinit=!1}}},{key:"propagateFrame",value:function(){for(var e=0,t=this.nextOps.length;e<t;e++)this.nextOps[e].processFrame(this.frame)}}]),e}();o.default=_},{"babel-runtime/core-js/object/assign":7,"babel-runtime/helpers/classCallCheck":15,"babel-runtime/helpers/createClass":16,parameters:106}],108:[function(e,t,o){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var n=e("babel-runtime/core-js/json/stringify"),s=i(n),a=e("babel-runtime/helpers/classCallCheck"),l=i(a),u=e("babel-runtime/helpers/createClass"),c=i(u),d=e("../utils/gmm-utils"),f=r(d),_=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];(0,l.default)(this,e),this._model=void 0,this._modelResults=void 0,this._likelihoodWindow=t}return(0,c.default)(e,[{key:"filter",value:function(e,t){var o=null,r=null;if(void 0===this._model)return void console.log("no model loaded");try{f.gmmFilter(e,this._model,this._modelResults);var i=this._modelResults.likeliest>-1?this._model.models[this._modelResults.likeliest].label:"unknown",n=this._modelResults.smoothed_normalized_likelihoods.slice(0);r={likeliest:i,likeliestIndex:this._modelResults.likeliest,likelihoods:n},this._model.shared_parameters.bimodal&&(r.outputValues=this._modelResults.output_values.slice(0),r.outputCovariance=this.modelResults.output_covariance.slice(0))}catch(e){o="problem occured during filtering : "+e}t(o,r)}},{key:"_setModel",value:function(e){if(this._model=void 0,this._modelResults=void 0,void 0!==e.models){this._model=e;var t=this._model,o=t.models.length;this._modelResults={instant_likelihoods:new Array(o),smoothed_log_likelihoods:new Array(o),smoothed_likelihoods:new Array(o),instant_normalized_likelihoods:new Array(o),smoothed_normalized_likelihoods:new Array(o),likeliest:-1,singleClassGmmModelResults:[]};var r=t.shared_parameters,i=r.dimension-r.dimension_input;this._modelResults.output_values=new Array(i);for(var n=0;n<i;n++)this._modelResults.output_values[n]=0;var s=void 0;s=0==t.configuration.default_parameters.covariance_mode?i*i:i,this._modelResults.output_covariance=new Array(s);for(var a=0;a<i;a++)this._modelResults.output_covariance[a]=0;for(var l=0;l<o;l++){this._modelResults.instant_likelihoods[l]=0,this._modelResults.smoothed_log_likelihoods[l]=0,this._modelResults.smoothed_likelihoods[l]=0,this._modelResults.instant_normalized_likelihoods[l]=0,this._modelResults.smoothed_normalized_likelihoods[l]=0;var u={instant_likelihood:0,log_likelihood:0};u.likelihood_buffer=new Array(this._likelihoodWindow);for(var c=0;c<this._likelihoodWindow;c++)u.likelihood_buffer[c]=1/this._likelihoodWindow;u.likelihood_buffer_index=0,u.beta=new Array(t.models[l].components.length);for(var d=0;d<u.beta.length;d++)u.beta[d]=1/u.beta.length;u.output_values=this._modelResults.output_values.slice(0),u.output_covariance=this._modelResults.output_covariance.slice(0),this._modelResults.singleClassGmmModelResults.push(u)}}}},{key:"likelihoodWindow",get:function(){return this._likelihoodWindow},set:function(e){if(this._likelihoodWindow=e,void 0!==this._model)for(var t=this._modelResults.singleClassModelResults,o=0;o<this._model.models.length;o++){t[o].likelihood_buffer=new Array(this._likelihoodWindow);for(var r=0;r<this._likelihoodWindow;r++)t.likelihood_buffer[r]=1/this._likelihoodWindow}}},{key:"model",get:function(){if(void 0!==this._model)return JSON.fromString((0,s.default)(this._model))},set:function(e){this._setModel(e)}},{key:"likeliestLabel",get:function(){return void 0!==this._modelResults&&this._modelResults.likeliest>-1?this._model.models[this._modelResults.likeliest].label:"unknown"}},{key:"nbClasses",get:function(){return void 0!==this._model?this._model.models.length:0}}]),e}();o.default=_},{"../utils/gmm-utils":112,"babel-runtime/core-js/json/stringify":5,"babel-runtime/helpers/classCallCheck":15,"babel-runtime/helpers/createClass":16}],109:[function(e,t,o){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var n=e("babel-runtime/core-js/json/stringify"),s=i(n),a=e("babel-runtime/helpers/classCallCheck"),l=i(a),u=e("babel-runtime/helpers/createClass"),c=i(u),d=e("../utils/hhmm-utils"),f=r(d),_=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];(0,l.default)(this,e),this._likelihoodWindow=t,this._model=void 0,this._modelResults=void 0}return(0,c.default)(e,[{key:"filter",value:function(e,t){var o=null,r=null;if(void 0===this._model)o="no model loaded yet";else try{f.hhmmFilter(e,this._model,this._modelResults);var i=this._modelResults.likeliest>-1?this._model.models[this._modelResults.likeliest].label:"unknown",n=this._modelResults.smoothed_normalized_likelihoods.slice(0);r={likeliest:i,likeliestIndex:this._modelResults.likeliest,likelihoods:n,timeProgressions:new Array(this._model.models.length),alphas:new Array(this._model.models.length)};for(var s=0;s<this._model.models.length;s++)r.timeProgressions[s]=this._modelResults.singleClassHmmModelResults[s].progress,this._model.configuration.default_parameters.hierarchical?r.alphas[s]=this._modelResults.singleClassHmmModelResults[s].alpha_h[0]:r.alphas[s]=this._modelResults.singleClassHmmModelResults[s].alpha[0];this._model.shared_parameters.bimodal&&(r.outputValues=this._modelResults.output_values.slice(0),r.outputCovariance=this._modelResults.output_covariance.slice(0))}catch(e){o="problem occured during filtering : "+e}t(o,r)}},{key:"reset",value:function(){void 0!==this._model&&this._setModel(this._model)}},{key:"_setModel",value:function(e){if(this._model=void 0,this._modelResults=void 0,void 0!==e.models){this._model=e;var t=this._model,o=t.models.length;this._modelResults={instant_likelihoods:new Array(o),smoothed_log_likelihoods:new Array(o),smoothed_likelihoods:new Array(o),instant_normalized_likelihoods:new Array(o),smoothed_normalized_likelihoods:new Array(o),likeliest:-1,frontier_v1:new Array(o),frontier_v2:new Array(o),forward_initialized:!1,singleClassHmmModelResults:[]};var r=t.shared_parameters,i=r.dimension-r.dimension_input;this._modelResults.output_values=new Array(i);for(var n=0;n<i;n++)this._modelResults.output_values[n]=0;var s=void 0;s=0==t.configuration.default_parameters.covariance_mode?i*i:i,this._modelResults.output_covariance=new Array(s);for(var a=0;a<i;a++)this._modelResults.output_covariance[a]=0;for(var l=0;l<o;l++){this._modelResults.instant_likelihoods[l]=0,this._modelResults.smoothed_log_likelihoods[l]=0,this._modelResults.smoothed_likelihoods[l]=0,this._modelResults.instant_normalized_likelihoods[l]=0,this._modelResults.smoothed_normalized_likelihoods[l]=0;for(var u=t.models[l].parameters.states,c=new Array(3),d=0;d<3;d++){c[d]=new Array(u);for(var f=0;f<u;f++)c[d][f]=0}for(var _=new Array(u),h=0;h<u;h++)_[h]=0;for(var m=new Array(this._likelihoodWindow),p=0;p<this._likelihoodWindow;p++)m[p]=0;var v={hierarchical:t.configuration.default_parameters.hierarchical,instant_likelihood:0,log_likelihood:0,likelihood_buffer:m,likelihood_buffer_index:0,progress:0,exit_likelihood:0,exit_ratio:0,likeliest_state:-1,previous_alpha:_.slice(0),alpha:_,alpha_h:c,prior:new Array(u),transition:new Array(u),window_minindex:0,window_maxindex:0,window_normalization_constant:0,forward_initialized:!1,singleClassGmmModelResults:[]};v.output_values=this._modelResults.output_values.slice(0),v.output_covariance=this._modelResults.output_covariance.slice(0);for(var b=0;b<u;b++){var g={instant_likelihood:0,log_likelihood:0};g.beta=new Array(this._model.models[l].parameters.gaussians);for(var y=0;y<g.beta.length;y++)g.beta[y]=1/g.beta.length;g.output_values=v.output_values.slice(0),g.output_covariance=v.output_covariance.slice(0),v.singleClassGmmModelResults.push(g)}this._modelResults.singleClassHmmModelResults.push(v)}}}},{key:"likelihoodWindow",get:function(){return this._likelihoodWindow},set:function(e){if(this._likelihoodWindow=e,void 0!==this._model)for(var t=this._modelResults.singleClassModelResults,o=0;o<this._model.models.length;o++){t[o].likelihood_buffer=new Array(this._likelihoodWindow);for(var r=0;r<this._likelihoodWindow;r++)t.likelihood_buffer[r]=1/this._likelihoodWindow}}},{key:"model",get:function(){if(void 0!==this._model)return JSON.fromString((0,s.default)(this._model))},set:function(e){this._setModel(e)}},{key:"likeliestLabel",get:function(){return void 0!==this._modelResults&&this._modelResults.likeliest>-1?this._model.models[this._modelResults.likeliest].label:"unknown"}},{key:"nbClasses",get:function(){return void 0!==this._model?this._model.models.length:0}}]),e}();o.default=_},{"../utils/hhmm-utils":113,"babel-runtime/core-js/json/stringify":5,"babel-runtime/helpers/classCallCheck":15,"babel-runtime/helpers/createClass":16}],110:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var i=e("./gmm/gmm-decoder");Object.defineProperty(o,"GmmDecoder",{enumerable:!0,get:function(){return r(i).default}});var n=e("./hhmm/hhmm-decoder");Object.defineProperty(o,"HhmmDecoder",{enumerable:!0,get:function(){return r(n).default}});var s=e("./phrase/xmm-phrase");Object.defineProperty(o,"PhraseMaker",{enumerable:!0,get:function(){return r(s).default}})},{"./gmm/gmm-decoder":108,"./hhmm/hhmm-decoder":109,"./phrase/xmm-phrase":111}],111:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var i=e("babel-runtime/core-js/number/is-integer"),n=r(i),s=e("babel-runtime/core-js/object/assign"),a=r(s),l=e("babel-runtime/helpers/classCallCheck"),u=r(l),c=e("babel-runtime/helpers/createClass"),d=r(c),f=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,u.default)(this,e);var o={bimodal:!1,dimension:1,dimension_input:0,column_names:[""],label:""};(0,a.default)(o,t),this._config={},this._setConfig(t),this.reset()}return(0,d.default)(e,[{key:"addObservation",value:function(e){if(e.length!==this._config.dimension||"number"==typeof e&&1!==this._config.dimension)throw console.error("error : incoming observation length not matching with dimensions"),"BadVectorSizeException";this._config.bimodal?(this._data_in=this._data_in.concat(e.slice(0,this._config.dimension_input)),this._data_out=this._data_out.concat(e.slice(this._config.dimension_input))):Array.isArray(e)?this._data=this._data.concat(e):this._data.push(e)}},{key:"reset",value:function(){this._data=[],this._data_in=[],this._data_out=[]}},{key:"_setConfig",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];for(var t in e)"bimodal"===t&&"boolean"==typeof e[t]?this._config[t]=e[t]:"dimension"===t&&(0,n.default)(e[t])?this._config[t]=e[t]:"dimension_input"===t&&(0,n.default)(e[t])?this._config[t]=e[t]:"column_names"===t&&Array.isArray(e[t])?this._config[t]=e[t].slice(0):"label"===t&&"string"==typeof e[t]&&(this._config[t]=e[t])}},{key:"config",get:function(){return this._config},set:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._setConfig(e)}},{key:"phrase",get:function(){return{bimodal:this._config.bimodal,column_names:this._config.column_names,dimension:this._config.dimension,dimension_input:this._config.dimension_input,label:this._config.label,data:this._data.slice(0),data_input:this._data_in.slice(0),data_output:this._data_out.slice(0),length:this._config.bimodal?this._data_in.length/this._config.dimension_input:this._data.length/this._config.dimension}}}]),e}();o.default=f},{"babel-runtime/core-js/number/is-integer":6,"babel-runtime/core-js/object/assign":7,"babel-runtime/helpers/classCallCheck":15,"babel-runtime/helpers/createClass":16}],112:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=o.gmmComponentRegression=function(e,t,o){var r=o.dimension,i=o.dimension_input,n=r-i;if(t=new Array(n),0===o.covariance_mode)for(var s=0;s<n;s++){t[s]=o.mean[i+s];for(var a=0;a<i;a++){for(var l=0,u=0;u<i;u++)l+=o.inverse_covariance_input[a*i+u]*(e[u]-o.mean[u]);t[s]+=o.covariance[(s+i)*r+a]*l}}else for(var c=0;c<n;c++)t[c]=o.covariance[c+i]},i=o.gmmComponentLikelihood=function(e,t){var o=0;if(0===t.covariance_mode)for(var r=0;r<t.dimension;r++){for(var i=0,n=0;n<t.dimension;n++)i+=t.inverse_covariance[r*t.dimension+n]*(e[n]-t.mean[n]);o+=(e[r]-t.mean[r])*i}else for(var s=0;s<t.dimension;s++)o+=t.inverse_covariance[s]*(e[s]-t.mean[s])*(e[s]-t.mean[s]);var a=Math.exp(-.5*o)/Math.sqrt(t.covariance_determinant*Math.pow(2*Math.PI,t.dimension));return(a<1e-180||isNaN(a)||isNaN(Math.abs(a)))&&(a=1e-180),a},n=o.gmmComponentLikelihoodInput=function(e,t){var o=0;if(0===t.covariance_mode)for(var r=0;r<t.dimension_input;r++){for(var i=0,n=0;n<t.dimension_input;n++)i+=t.inverse_covariance_input[r*t.dimension_input+n]*(e[n]-t.mean[n]);o+=(e[r]-t.mean[r])*i}else for(var s=0;s<t.dimension_input;s++)o+=t.inverse_covariance_input[s]*(e[s]-t.mean[s])*(e[s]-t.mean[s]);var a=Math.exp(-.5*o)/Math.sqrt(t.covariance_determinant_input*Math.pow(2*Math.PI,t.dimension_input));return(a<1e-180||isNaN(a)||isNaN(Math.abs(a)))&&(a=1e-180),a},s=o.gmmComponentLikelihoodBimodal=function(e,t,o){var r=o.dimension,i=o.dimension_input,n=r-i,s=0;if(0===o.covariance_mode)for(var a=0;a<r;a++){for(var l=0,u=0;u<o.dimension_input;u++)l+=o.inverse_covariance[a*r+u]*(e[u]-o.mean[u]);for(var c=0;c<n;c++)l+=o.inverse_covariance[a*r+i+c]*(t[c]-o.mean[i+c]);s+=a<i?(e[a]-o.mean[a])*l:(t[a-i]-o.mean[a])*l}else{for(var d=0;d<i;d++)s+=o.inverse_covariance[d]*(e[d]-o.mean[d])*(e[d]-o.mean[d]);for(var f=o.dimension_input;f<o.dimension;f++){var _=(t[f-i]-o.mean[f])*(t[f-i]-o.mean[f]);s+=o.inverse_covariance[f]*_}}var h=Math.exp(-.5*s)/Math.sqrt(o.covariance_determinant*Math.pow(2*Math.PI,o.dimension));return(h<1e-180||isNaN(h)||isNaN(Math.abs(h)))&&(h=1e-180),h},a=(o.gmmRegression=function(e,t,o){var i=t.components[0].dimension,n=t.components[0].dimension_input,s=i-n;o.output_values=new Array(s);for(var a=0;a<s;a++)o.output_values[a]=0;var l=void 0;l=0===t.parameters.covariance_mode?s*s:s,o.output_covariance=new Array(l);for(var u=0;u<l;u++)o.output_covariance[u]=0;for(var c=void 0,d=0;d<t.components.length;d++){r(e,c,t.components[d]);for(var f=o.beta[d]*o.beta[d],_=0;_<s;_++)if(o.output_values[_]+=o.beta[d]*c[_],0===t.parameters.covariance_mode)for(var h=0;h<s;h++){var m=_*s+h;o.output_covariance[m]+=f*t.components[d].output_covariance[m]}else o.output_covariance[_]+=f*t.components[d].output_covariance[_]}},o.gmmObsProb=function e(t,o){var r=arguments.length<=2||void 0===arguments[2]?-1:arguments[2],n=o.mixture_coeffs,s=o.components,a=0;if(r<0)for(var l=0;l<s.length;l++)a+=e(t,o,l);else a=n[r]*i(t,s[r]);return a}),l=o.gmmObsProbInput=function e(t,o){var r=arguments.length<=2||void 0===arguments[2]?-1:arguments[2],i=o.mixture_coeffs,s=o.components,a=0;if(r<0)for(var l=0;l<s.length;l++)a+=e(t,o,l);else a=i[r]*n(t,s[r]);return a},u=o.gmmObsProbBimodal=function e(t,o,r){var i=arguments.length<=3||void 0===arguments[3]?-1:arguments[3],n=r.mixture_coeffs,a=r.components,l=0;if(i<0)for(var u=0;u<a.length;u++)l+=e(t,o,r,u);else l=n[i]*s(t,o,a[i]);return l},c=o.gmmLikelihood=function(e,t,o){for(var r=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],i=t.mixture_coeffs,n=t.components,s=o,c=0,d=0;d<n.length;d++)singleClassGmmModel.components[d].bimodal?0===r.length?s.beta[d]=l(e,t,d):s.beta[d]=u(e,r,t,d):s.beta[d]=a(e,t,d),c+=s.beta[d];for(var f=0;f<i.length;f++)s.beta[f]/=c;return s.instant_likelihood=c,s.likelihood_buffer[s.likelihood_buffer_index]=c,s.likelihood_buffer_index=(s.likelihood_buffer_index+1)%s.likelihood_buffer.length,s.log_likelihood=s.likelihood_buffer.reduce(function(e,t){return e+t},0),s.log_likelihood/=s.likelihood_buffer.length,c};o.gmmFilter=function(e,t,o){for(var r=t.models,i=o,n=0,s=0,a=0,l=0;l<r.length;l++){var u=i.singleClassGmmModelResults[l];i.instant_likelihoods[l]=c(e,r[l],u),i.smoothed_log_likelihoods[l]=u.log_likelihood,i.smoothed_likelihoods[l]=Math.exp(i.smoothed_log_likelihoods[l]),i.instant_normalized_likelihoods[l]=i.instant_likelihoods[l],i.smoothed_normalized_likelihoods[l]=i.smoothed_likelihoods[l],s+=i.instant_normalized_likelihoods[l],a+=i.smoothed_normalized_likelihoods[l],(0==l||i.smoothed_log_likelihoods[l]>n)&&(n=i.smoothed_log_likelihoods[l],i.likeliest=l)}for(var d=0;d<r.length;d++)i.instant_normalized_likelihoods[d]/=s,i.smoothed_normalized_likelihoods[d]/=a;var f=t.shared_parameters,_=t.configuration;if(f.bimodal){var h=f.dimension,m=f.dimension_input,p=h-m;if(0===_.multiClass_regression_estimator)i.output_values=i.singleClassModelResults[i.likeliest].output_values,i.output_covariance=i.singleClassModelResults[i.likeliest].output_covariance;else{i.output_values=new Array(p);for(var v=0;v<p;v++)i.output_values[v]=0;var b=void 0;b=0==_.default_parameters.covariance_mode?p*p:p,i.output_covariance=new Array(b);for(var g=0;g<b;g++)i.output_covariance[g]=0;for(var y=0;y<r.length;y++)for(var k=i.smoothed_normalized_likelihoods[y],j=i.singleClassGmmModelResults[y],w=0;w<p;y++)if(i.output_values[w]+=k*j.output_values[w],0===_.default_parameters.covariance_mode)for(var x=0;x<p;x++){var O=w*p+x;i.output_covariance[O]+=k*j.output_covariance[O]}else i.output_covariance[w]+=k*j.output_covariance[w]}}}},{}],113:[function(e,t,o){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}Object.defineProperty(o,"__esModule",{value:!0}),o.hhmmFilter=o.hhmmUpdateResults=o.hhmmForwardUpdate=o.hhmmForwardInit=o.hhmmLikelihoodAlpha=o.hmmFilter=o.hmmUpdateResults=o.hmmUpdateAlphaWindow=o.hmmForwardUpdate=o.hmmForwardInit=o.hmmRegression=void 0;var i=e("./gmm-utils"),n=r(i),s=o.hmmRegression=function(e,t,o){var r=t.states[0].components[0].dimension,i=t.states[0].components[0].dimension_input,s=r-i,a=void 0;a=0===t.states[0].components[0].covariance_mode?s*s:s,o.output_values=new Array(s);for(var l=0;l<s;l++)o.output_values[l]=0;o.output_covariance=new Array(a);for(var u=0;u<a;u++)o.output_covariance[u]=0;if(2===t.parameters.regression_estimator)return n.gmmLikelihood(e,t.states[o.likeliest_state],o.singleClassGmmModelResults[o.likeliest_state]),n.gmmRegression(e,t.states[o.likeliest_state],o.singleClassGmmModelResults[o.likeliest_state]),void(o.output_values=t.states[o.likeliest_state].output_values.slice(0));var c=0==t.parameters.regression_estimator?0:o.window_minindex,d=0==t.parameters.regression_estimator?t.states.length:o.window_maxindex,f=0==t.parameters.regression_estimator?1:o.window_normalization_constant;f<=0&&(f=1);for(var _=c;_<d;_++){n.gmmLikelihood(e,t.states[_],o.singleClassGmmModelResults[_]),n.gmmRegression(e,t.states[_],o.singleClassGmmModelResults[_]);for(var h=o.singleClassGmmModelResults[_].output_values.slice(0),m=0;m<s;m++)if(o.hierarchical)if(o.output_values[m]+=(o.alpha_h[0][_]+o.alpha_h[1][_])*h[m]/f,0===t.parameters.covariance_mode)for(var p=0;p<s;p++)o.output_covariance[m*s+p]+=(o.alpha_h[0][_]+o.alpha_h[1][_])*(o.alpha_h[0][_]+o.alpha_h[1][_])*o.singleClassGmmModelResults[_].output_covariance[m*s+p]/f;else o.output_covariance[m]+=(o.alpha_h[0][_]+o.alpha_h[1][_])*(o.alpha_h[0][_]+o.alpha_h[1][_])*o.singleClassGmmModelResults[_].output_covariance[m]/f;else if(o.output_values[m]+=o.alpha[_]*h[m]/f,
0===t.parameters.covariance_mode)for(var v=0;v<s;v++)o.output_covariance[m*s+v]+=o.alpha[_]*o.alpha[_]*o.singleClassGmmModelResults[_].output_covariance[m*s+v]/f;else o.output_covariance[m]+=o.alpha[_]*o.alpha[_]*o.singleClassGmmModelResults.output_covariance[m]/f}},a=o.hmmForwardInit=function(e,t,o){var r=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],i=t.parameters.states,s=0;if(0===t.parameters.transition_mode)for(var a=0;a<i;a++)t.states[a].components[0].bimodal?r.length>0?o.alpha[a]=t.prior[a]*n.gmmObsProbBimodal(e,r,t.states[a]):o.alpha[a]=t.prior[a]*n.gmmObsProbInput(e,t.states[a]):o.alpha[a]=t.prior[a]*n.gmmObsProb(e,t.states[a]),s+=o.alpha[a];else{for(var l=0;l<o.alpha.length;l++)o.alpha[l]=0;t.states[0].components[0].bimodal?r.length>0?o.alpha[0]=n.gmmObsProbBimodal(e,r,t.states[0]):o.alpha[0]=n.gmmObsProbInput(e,t.states[0]):o.alpha[0]=n.gmmObsProb(e,t.states[0]),s+=o.alpha[0]}if(s>0){for(var u=0;u<i;u++)o.alpha[u]/=s;return 1/s}for(var c=0;c<i;c++)o.alpha[c]=1/i;return 1},l=o.hmmForwardUpdate=function(e,t,o){var r=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],i=t.parameters.states,s=0;o.previous_alpha=o.alpha.slice(0);for(var a=0;a<i;a++){if(o.alpha[a]=0,0===t.parameters.transition_mode)for(var l=0;l<i;l++)o.alpha[a]+=o.previous_alpha[l]*o.transition[l*i+a];else o.alpha[a]+=o.previous_alpha[a]*o.transition[2*a],a>0?o.alpha[a]+=o.previous_alpha[a-1]*o.transition[2*(a-1)+1]:o.alpha[0]+=o.previous_alpha[i-1]*o.transition[2*i-1];t.states[a].components[0].bimodal?r.length>0?o.alpha[a]*=n.gmmObsProbBimodal(e,r,t.states[a]):o.alpha[a]*=n.gmmObsProbInput(e,t.states[a]):o.alpha[a]*=n.gmmObsProb(e,t.states[a]),s+=o.alpha[a]}if(s>1e-300){for(var u=0;u<i;u++)o.alpha[u]/=s;return 1/s}return 0},u=o.hmmUpdateAlphaWindow=function(e,t){var o=e.parameters.states;t.likeliest_state=0;var r=void 0;r=e.parameters.hierarchical?t.alpha_h[0][0]+t.alpha_h[1][0]:t.alpha[0];for(var i=1;i<o;i++)e.parameters.hierarchical?t.alpha_h[0][i]+t.alpha_h[1][i]>r&&(r=t.alpha_h[0][i]+t.alpha_h[1][i],t.likeliest_state=i):t.alpha[i]>r&&(r=t.alpha[0],t.likeliest_state=i);t.window_minindex=t.likeliest_state-o/2,t.window_maxindex=t.likeliest_state+o/2,t.window_minindex=t.window_minindex>=0?t.window_minindex:0,t.window_maxindex=t.window_maxindex<=o?t.window_maxindex:o,t.window_normalization_constant=0;for(var n=t.window_minindex;n<t.window_maxindex;n++)t.window_normalization_constant+=t.alpha_h[0][n]+t.alpha_h[1][n]},c=o.hmmUpdateResults=function(e,t){t.likelihood_buffer[t.likelihood_buffer_index]=Math.log(t.instant_likelihood),t.likelihood_buffer_index=(t.likelihood_buffer_index+1)%t.likelihood_buffer.length,t.log_likelihood=0;for(var o=t.likelihood_buffer.length,r=0;r<o;r++)t.log_likelihood+=t.likelihood_buffer[r];t.log_likelihood/=o,t.progress=0;for(var i=t.window_minindex;i<t.window_maxindex;i++)e.parameters.hierarchical?t.progress+=(t.alpha_h[0][i]+t.alpha_h[1][i]+t.alpha_h[2][i])*i/t.window_normalization_constant:t.progress+=t.alpha[i]*i/t.window_normalization_constant;t.progress/=e.parameters.states-1},d=o.hmmFilter=function(e,t,o){var r=0;if(o.forward_initialized)r=l(e,t,o);else{for(var i=0;i<o.likelihood_buffer.length;i++)o.likelihood_buffer[i]=0;r=a(e,t,o),o.forward_initialized=!0}return o.instant_likelihood=1/r,u(t,o),c(t,o),t.states[0].components[0].bimodal&&s(e,t,o),o.instant_likelihood},f=o.hhmmLikelihoodAlpha=function(e,t,o,r){if(e<0)for(var i=0;i<o.models.length;i++){t[i]=0;for(var n=0;n<3;n++)for(var s=0;s<o.models[i].parameters.states;s++)t[i]+=r.singleClassHmmModelResults[i].alpha_h[n][s]}else for(var a=0;a<o.models.length;a++){t[a]=0;for(var l=0;l<o.models[a].parameters.states;l++)t[a]+=r.singleClassHmmModelResults[a].alpha_h[e][l]}},_=o.hhmmForwardInit=function(e,t,o){for(var r=0,i=0;i<t.models.length;i++){for(var s=t.models[i],a=s.parameters.states,l=o.singleClassHmmModelResults[i],u=0;u<3;u++){l.alpha_h[u]=new Array(a);for(var c=0;c<a;c++)l.alpha_h[u][c]=0}if(0==s.parameters.transition_mode)for(var d=0;d<a;d++)t.shared_parameters.bimodal?l.alpha_h[0][d]=s.prior[d]*n.gmmObsProbInput(e,s.states[d]):l.alpha_h[0][d]=s.prior[d]*n.gmmObsProb(e,s.states[d]),l.instant_likelihood+=l.alpha_h[0][d];else l.alpha_h[0][0]=t.prior[i],t.shared_parameters.bimodal?l.alpha_h[0][0]*=n.gmmObsProbInput(e,s.states[0]):l.alpha_h[0][0]*=n.gmmObsProb(e,s.states[0]),l.instant_likelihood=l.alpha_h[0][0];r+=l.instant_likelihood}for(var f=0;f<t.models.length;f++)for(var _=t.models[f].parameters.states,h=0;h<3;h++)for(var m=0;m<_;m++)o.singleClassHmmModelResults[f].alpha_h[h][m]/=r;o.forward_initialized=!0},h=o.hhmmForwardUpdate=function(e,t,o){var r=t.models.length,i=0,s=0,a=void 0;f(1,o.frontier_v1,t,o),f(2,o.frontier_v2,t,o);for(var l=0;l<r;l++){var u=t.models[l],c=u.parameters.states,d=o.singleClassHmmModelResults[l];a=new Array(c);for(var _=0;_<c;_++)a[_]=0;if(0==u.parameters.transition_mode)for(var h=0;h<c;h++){for(var m=0;m<c;m++)a[h]+=u.transition[m*c+h]/(1-u.exitProbabilities[m])*d.alpha_h[0][m];for(var p=0;p<r;p++)a[h]+=u.prior[h]*(o.frontier_v1[p]*t.transition[p][l]+o.frontier_v2[p]*t.prior[l])}else{a[0]=u.transition[0]*d.alpha_h[0][0];for(var v=0;v<r;v++)a[0]+=o.frontier_v1[v]*t.transition[v][l]+o.frontier_v2[v]*t.prior[l];for(var b=1;b<c;b++)a[b]+=u.transition[2*b]/(1-u.exitProbabilities[b])*d.alpha_h[0][b],a[b]+=u.transition[2*(b-1)+1]/(1-u.exitProbabilities[b-1])*d.alpha_h[0][b-1];for(var g=0;g<3;g++)for(var y=0;y<c;y++)d.alpha_h[g][y]=0}d.exit_likelihood=0,d.instant_likelihood=0;for(var k=0;k<c;k++)s=t.shared_parameters.bimodal?n.gmmObsProbInput(e,u.states[k])*a[k]:n.gmmObsProb(e,u.states[k])*a[k],d.alpha_h[2][k]=t.exit_transition[l]*u.exitProbabilities[k]*s,d.alpha_h[1][k]=(1-t.exit_transition[l])*u.exitProbabilities[k]*s,d.alpha_h[0][k]=(1-u.exitProbabilities[k])*s,d.exit_likelihood+=d.alpha_h[1][k]+d.alpha_h[2][k],d.instant_likelihood+=d.alpha_h[0][k]+d.alpha_h[1][k]+d.alpha_h[2][k],i+=s;d.exit_ratio=d.exit_likelihood/d.instant_likelihood}for(var j=0;j<r;j++)for(var w=0;w<3;w++)for(var x=0;x<t.models[j].parameters.states;x++)o.singleClassHmmModelResults[j].alpha_h[w][x]/=i},m=o.hhmmUpdateResults=function(e,t){for(var o=0,r=0,i=0,n=0;n<e.models.length;n++){var s=t.singleClassHmmModelResults[n];t.instant_likelihoods[n]=s.instant_likelihood,t.smoothed_log_likelihoods[n]=s.log_likelihood,t.smoothed_likelihoods[n]=Math.exp(t.smoothed_log_likelihoods[n]),t.instant_normalized_likelihoods[n]=t.instant_likelihoods[n],t.smoothed_normalized_likelihoods[n]=t.smoothed_likelihoods[n],r+=t.instant_normalized_likelihoods[n],i+=t.smoothed_normalized_likelihoods[n],(0==n||t.smoothed_log_likelihoods[n]>o)&&(o=t.smoothed_log_likelihoods[n],t.likeliest=n)}for(var a=0;a<e.models.length;a++)t.instant_normalized_likelihoods[a]/=r,t.smoothed_normalized_likelihoods[a]/=i};o.hhmmFilter=function(e,t,o){if(t.configuration.default_parameters.hierarchical)o.forward_initialized?h(e,t,o):_(e,t,o);else for(var r=0;r<t.models.length;r++)o.instant_likelihoods[r]=d(e,t,o);for(var i=0;i<t.models.length;i++)u(t.models[i],o.singleClassHmmModelResults[i]),c(t.models[i],o.singleClassHmmModelResults[i]);if(m(t,o),t.shared_parameters.bimodal){for(var n=t.shared_parameters.dimension,a=t.shared_parameters.dimension_input,l=n-a,f=0;f<t.models.length;f++)s(e,t.models[f],o.singleClassHmmModelResults[f]);if(0===t.configuration.multiClass_regression_estimator)o.output_values=o.singleClassHmmModelResults[o.likeliest].output_values.slice(0),o.output_covariance=o.singleClassHmmModelResults[o.likeliest].output_covariance.slice(0);else{for(var p=0;p<o.output_values.length;p++)o.output_values[p]=0;for(var v=0;v<o.output_covariance.length;v++)o.output_covariance[v]=0;for(var b=0;b<t.models.length;b++)for(var g=0;g<l;g++)if(o.output_values[g]+=o.smoothed_normalized_likelihoods[b]*o.singleClassHmmModelResults[b].output_values[g],0===t.configuration.covariance_mode)for(var y=0;y<l;y++)o.output_covariance[g*l+y]+=o.smoothed_normalized_likelihoods[b]*o.singleClassHmmModelResults[b].output_covariance[g*l+y];else o.output_covariance[g]+=o.smoothed_normalized_likelihoods[b]*o.singleClassHmmModelResults[b].output_covariance[g]}}}},{"./gmm-utils":112}]},{},[4])(4)});